(()=>{var e,t={6562:(e,t,n)=>{n(3358),n(8563),n(6313);var o=n(7255),r=n(4592),a=n(8149);!async function(){try{var e=await r.checkSessionCookie();if(e){var t=e.color||"#000000",n=[{element:"div",className:"centeredDialog",children:[{element:"div",style:{display:"flex"},children:[{element:"img",style:{outline:"none",borderRadius:"64px",borderStyle:"solid",borderWidth:"3px",borderColor:"#7d7d7d",backgroundColor:"#969696",imageRendering:"pixelated",top:"0px",width:"64px",height:"64px"},gid:"profilePicture_account"},{element:"div",style:{display:"flex",flexDirection:"column"},children:[{element:"input",style:{alignContent:"center",fontSize:"30px",fontWeight:"bold",color:t,border:"none",background:"none"},gid:"displayNameInput",value:e.displayName},{element:"span",style:{alignContent:"center",fontSize:"16px",color:t},gid:"usernameSpan",textContent:e.username}]},{element:"div",style:{width:"10px"}},{element:"div",style:{alignContent:"center"},title:"Click this to change your usernames color, appears in chat as well!",children:[{element:"input",type:"color",value:t,gid:"username_color_input"}]}]},{element:"hr"},{element:"span",className:"headerText",textContent:"Your Random Rants + account"},{element:"br"},{element:"div",className:"button",gid:"changeDisplayNameButton",children:[{element:"img",src:"images/text.svg",style:{height:"17px"}},{element:"span",textContent:"Change display name"}]},{element:"div",className:"button",gid:"uploadPFP",children:[{element:"img",src:"images/profile.svg",style:{height:"17px"}},{element:"span",textContent:"Upload profile picture"}]},{element:"div",className:"button",eventListeners:[{event:"click",func:function(){o.getGPId("username_color_input").click()}}],children:[{element:"img",src:"images/brush.svg",style:{height:"17px"}},{element:"span",textContent:"Change username color"}]},{element:"div",className:"button",gid:"signOutButton",children:[{element:"img",src:"images/signout.svg",style:{height:"17px"}},{element:"span",textContent:"Sign out"}]}]}],i=o.createElementsFromJSON(n);o.appendElements(o.body,i);var l=o.getGPId("profilePicture_account"),c=o.getGPId("username_color_input"),s=o.getGPId("usernameSpan"),u=o.getGPId("changeDisplayNameButton"),d=o.getGPId("displayNameInput");async function m(t){var n=r.getProfilePictureURL(e.username);try{for(var o=0;o<3;o++)await fetch(n,{cache:"reload",mode:"no-cors"})}catch(e){}l.src=t||n}m(),o.getGPId("signOutButton").onclick=function(){r.logoutOfAccount(),window.location.href="/"},o.getGPId("uploadPFP").onclick=function(){var e=document.createElement("input");e.accept=".png, .jpeg, .bmp, .jpg, .ico, .webm",e.type="file",e.onchange=function(){var t=e.files[0];if(t){var n=new FileReader;n.onload=async function(){try{try{var e=await(t=n.result,new Promise((e,n)=>{const o=document.createElement("img");o.src=t,o.onload=function(){try{const t=96,n=document.createElement("canvas"),r=n.getContext("2d");let a,i;const l=o.width/o.height;l>1?(a=t,i=t/l):(i=t,a=t*l),n.width=t,n.height=t,r.clearRect(0,0,n.width,n.height);const c=(t-a)/2,s=(t-i)/2;r.drawImage(o,c,s,a,i);const u=n.toDataURL("image/webp",.7);n.width=1,n.height=1,n.remove(),e(u)}catch(e){n("Got strange error when trying to resize image: "+e)}},o.onerror=function(){n("Unable to load image format, browser may not support this file format. (Stop trying to break the system, its not helpful.)")}}))}catch(e){return void a.alert("Error compressing image: "+e)}await fetch(r.getServerURL()+"/account/picture/",{method:"POST",body:e.split(",").pop()}),m(e)}catch(e){a.alert(`Error uploading profile picture, your profile is not uploaded. ${e}`)}var t},n.readAsDataURL(t)}},e.click()},c.onchange=async function(){t=c.value,d.style.color=t,s.style.color=t,await fetch(r.getServerURL()+"/account/setcolor/",{method:"POST",body:JSON.stringify({color:c.value})})},u.onclick=async function(){d.focus()},d.style.cursor="pointer",d.onfocus=async function(){d.style.cursor="auto"},d.onblur=async function(){d.style.cursor="pointer"},d.onchange=async function(){d.disabled=!0;var e=d.value;(await fetch(r.getServerURL()+"/account/displayname/",{method:"POST",body:JSON.stringify({displayName:e})})).ok?(d.value=e,d.disabled=!1):a.alert("Unable to set the display name.")}}else n=[{element:"div",className:"centeredDialog",children:[{element:"span",className:"headerText",textContent:"Error with your account"},{element:"span",textContent:"You are not logged in, or you where logged out of your account. If you get this error, someone might have changed your user information. This can also happen if you change your user info on another device."}]}],i=o.createElementsFromJSON(n),o.appendElements(o.body,i)}catch(p){a.alert(p)}}()}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],l=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](n[c]))?n.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={930:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,l,c]=n,s=0;if(i.some(t=>0!==e[t])){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(c)var u=c(o)}for(t&&t(n);s<i.length;s++)a=i[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunkrandomrants_plus=self.webpackChunkrandomrants_plus||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[804],()=>o(6562));r=o.O(r)})();